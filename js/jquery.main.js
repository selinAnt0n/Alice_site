$(document).ready(function(){$("div.gallery").gallery({duration:500,autoRotation:!1,listOfSlides:".list > li",switcher:".switcher>li",circle:!0,clone:!0}),$("div.gallery2").gallery({duration:500,listOfSlides:".list > li",autoRotation:5e3,circle:!0,clone:!0,disableBtn:"disable",switcher:".switcher>li"}),$("div.gallery3").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher>li",effect:!0,circle:!0}),$("div.gallery4").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher>li",effect:!0,circle:!0}),$("div.gallery5").gallery({duration:500,listOfSlides:".list > li",circle:!1,switcher:".switcher>li"}),$("div.gallery6").gallery({duration:500,slideElement:2,listOfSlides:".list > li",switcher:".switcher>li"}),$("div.gallery7").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher-holder",autoSwitcher:"switcher"});$("div.gallery8").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher-holder",autoSwitcher:"switcher"});$("div.gallery9").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher>li",direction:!0}),$("div.gallery10").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher>li",direction:!0}),$("div.gallery11").gallery({duration:500,listOfSlides:".list > li",switcher:".switcher>li",clone:!0,direction:!0})}),function(a){function b(a,b){this.init(a,b)}a.fn.gallery=function(a){var c=Array.prototype.slice.call(arguments);return c.shift(),this.each(function(){this.galControl&&"string"==typeof a?"function"==typeof this.galControl[a]&&this.galControl[a].apply(this.galControl,c):this.galControl=new b(this,a)}),this},b.prototype={options:{},init:function(b,c){this.options=a.extend({duration:700,slideElement:1,autoRotation:!1,effect:!1,listOfSlides:".list > li",switcher:!1,autoSwitcher:!1,disableBtn:!1,nextBtn:"a.link-next, a.btn-next, a.next",prevBtn:"a.link-prev, a.btn-prev, a.prev",circle:!0,clone:!1,direction:!1,event:"click",IE:!1},c||{});if(this.context=a(b),this.els=this.context.find(this.options.listOfSlides),this.list=this.els.parent(),this.count=this.els.length,this.autoRotation=this.options.autoRotation,this.direction=this.options.direction,this.duration=this.options.duration,this.options.clone&&(this.list.append(this.els.clone()),this.list.prepend(this.els.clone()),this.els=this.context.find(this.options.listOfSlides)),this.wrap=this.list.parent(),this.options.nextBtn&&(this.nextBtn=this.context.find(this.options.nextBtn)),this.options.prevBtn&&(this.prevBtn=this.context.find(this.options.prevBtn)),this.calcParams(this),this.options.autoSwitcher){this.switcherHolder=this.context.find(this.options.switcher).empty(),this.switchPattern=a('<ul class="'+(1==this.options.autoSwitcher?"":this.options.autoSwitcher)+'"></ul>');for(var e=0;e<this.max+1;e++)a('<li><a href="#">'+e+"</a></li>").appendTo(this.switchPattern);this.switchPattern.appendTo(this.switcherHolder),this.switcher=this.context.find(this.options.switcher).find("li"),this.active=0}else this.options.switcher?(this.switcher=this.context.find(this.options.switcher),this.active=this.switcher.index(this.switcher.filter(".active:eq(0)"))):this.active=this.els.index(this.els.filter(".active:eq(0)"));this.active<0&&(this.active=0),this.last=this.active,this.options.switcher&&this.switcher.removeClass("active").eq(this.active).addClass("active"),this.options.clone&&(this.active+=this.count),this.options.effect?this.els.css({opacity:0}).removeClass("active").eq(this.active).addClass("active").css({opacity:1}).css("opacity","auto"):this.direction?this.list.css({marginTop:-this.mas[this.active]}):this.list.css({marginLeft:-this.mas[this.active]}),this.options.nextBtn&&this.initEvent(this,this.nextBtn,!0),this.options.prevBtn&&this.initEvent(this,this.prevBtn,!1),this.initWindow(this,a(window)),this.autoRotation&&this.runTimer(this),this.options.switcher&&this.initEventSwitcher(this,this.switcher),!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls()},calcParams:function(b){this.mas=[],this.sum=0,this.max=this.count-1,this.width=0,this.els.each(function(){b.mas.push(b.width),b.width+=b.direction?a(this).outerHeight(!0):a(this).outerWidth(!0),b.sum+=b.direction?a(this).outerHeight(!0):a(this).outerWidth(!0)}),this.finish=this.direction?this.sum-this.wrap.outerHeight():this.sum-this.wrap.outerWidth();for(var c=0;c<this.count;c++)if(this.mas[c]>=this.finish){this.max=c;break}},changeSettings:function(a,b){this[a]=b},fadeElement:function(){this.els.eq(this.last).animate({opacity:0},{queue:!1,duration:this.duration}),this.els.removeClass("active").eq(this.active).addClass("active").animate({opacity:1},{queue:!1,duration:this.duration,complete:function(){a(this).css("opacity","auto")}}),this.options.switcher&&this.switcher.removeClass("active").eq(this.active).addClass("active"),this.last=this.active},scrollElement:function(a){this.direction?this.list.animate({marginTop:a?-this.finish:-this.mas[this.active]},{queue:!1,duration:this.duration}):this.list.animate({marginLeft:a?-this.finish:-this.mas[this.active]},{queue:!1,duration:this.duration}),this.options.switcher&&this.switcher.removeClass("active").eq(this.options.clone?this.active<this.count?this.active/this.options.slideElement:this.active>=2*this.count?(this.active-2*this.count)/this.options.slideElement:(this.active-this.count)/this.options.slideElement:this.active/this.options.slideElement).addClass("active")},runTimer:function(a){a._t&&clearTimeout(a._t),a._t=setInterval(function(){a.nextStep()},this.autoRotation)},initEventSwitcher:function(b,c){c.bind(b.options.event,function(){return a(this).hasClass("active")||(b.active=b.switcher.index(a(this))*b.options.slideElement,b.options.clone&&(b.active+=b.count),b.initMove()),!1})},initEvent:function(a,b,c){b.bind(a.options.event,function(){return c?a.nextStep():a.prevStep(),a._t&&clearTimeout(a._t),a.autoRotation&&a.runTimer(a),!1})},disableControls:function(){this.prevBtn.removeClass(this.options.disableBtn),this.nextBtn.removeClass(this.options.disableBtn),this.active>=this.max&&this.nextBtn.addClass(this.options.disableBtn),this.active<=0&&this.prevBtn.addClass(this.options.disableBtn)},initMove:function(){var a=!1;this.active>=this.max&&!this.options.clone&&(a=!0,this.active=this.max),this._t&&clearTimeout(this._t),this.options.effect?this.fadeElement():this.scrollElement(a),this.autoRotation&&this.runTimer(this),!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls()},nextStep:function(){var a=!1;this.active=this.active+this.options.slideElement,!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls(),this.options.clone?this.active>2*this.count&&(this.direction?this.list.css({marginTop:-this.mas[this.count]}):this.list.css({marginLeft:-this.mas[this.count]}),this.active=this.count+this.options.slideElement):this.active>=this.max&&(this.options.circle&&this.active>this.max?this.active=0:(this.active=this.max,a=!0)),this.options.effect?this.fadeElement():this.scrollElement(a)},prevStep:function(){var a=!1;this.active=this.active-this.options.slideElement,!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls(),this.options.clone?this.active<0&&(this.direction?this.list.css({marginTop:-this.mas[this.count]}):this.list.css({marginLeft:-this.mas[this.count]}),this.active=this.count-1):this.active<0&&(this.options.circle?(this.active=this.max,a=!0):this.active=0),this.options.effect?this.fadeElement():this.scrollElement(a)},initWindow:function(b,c){c.focus(a.proxy(this.play,this)),c.blur(a.proxy(this.stop,this))},stop:function(){this._t&&clearTimeout(this._t)},play:function(){this._t&&clearTimeout(this._t),this.autoRotation&&this.runTimer(this)}}}(jQuery);